# ============================================
# LeviBot Docker Environment
# ============================================

# --- Core Settings ---
ENV=docker
LOG_LEVEL=info

# --- Redis (Distributed Rate Limit) ---
REDIS_URL=redis://redis:6379/0
RL_WINDOW_SEC=60
RL_MAX=120
RL_BURST=40

# --- Security ---
# Generate with: openssl rand -hex 32
API_KEYS=6c3b01745ce9a8f2a88ef5bb8b8bd13f940eea2fc6645427238cc92e22183856
SECURED_PATH_PREFIXES=/signals,/exec,/paper,/alerts
RATE_LIMIT_WINDOW_SEC=60
RATE_LIMIT_MAX=120
RATE_LIMIT_BURST=40
RATE_LIMIT_BY=ip

# --- CORS ---
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
VITE_API_BASE=http://localhost:8000

# Feature Flags
VITE_ENABLE_BACKTEST=true
VITE_ENABLE_KILL=true
VITE_SHOW_TEST_ALERT=false

# Debug Mode
VITE_DEBUG=false

# --- Risk Management ---
RISK_POLICY=moderate
RISK_MIN_NOTIONAL=5
RISK_MAX_NOTIONAL=250
RISK_R_MULT=1.0

# --- Auto-routing ---
AUTO_ROUTE_ENABLED=true
AUTO_ROUTE_DRY_RUN=false
AUTO_ROUTE_MIN_CONF=0.75
AUTO_ROUTE_DEFAULT_NOTIONAL=25
AUTO_ROUTE_EXCH=mexc

# --- Alerts ---
ALERTS_OUTBOUND_ENABLED=true
ALERT_AUTO_TRIGGER_ENABLED=true
ALERT_MIN_CONF=0.80
ALERT_LOG_DIR=/app/backend/data/logs
WEBHOOK_RATE_LIMIT=1.0
WEBHOOK_TIMEOUT=5
WEBHOOK_RETRY_MAX=3
WEBHOOK_BACKOFF_BASE=0.8
WEBHOOK_BACKOFF_MAX=8.0
WEBHOOK_JITTER=0.2

# --- Slack/Discord Webhooks ---
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK/URL
ALERT_DEFAULT_TARGETS=

# --- DEX/MEV (0x API) ---
ZEROX_API_URL=https://api.0x.org/swap/v1/quote
# ZEROX_API_KEY=your-0x-api-key
DEX_DEFAULT_CHAIN=ethereum

# --- NFT (Reservoir API) ---
RESERVOIR_API_URL=https://api.reservoir.tools
# RESERVOIR_API_KEY=your-reservoir-api-key

# --- S3 Log Archiver (MinIO compatible) ---
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin
# AWS_REGION=eu-central-1
# AWS_ENDPOINT_URL=http://minio:9000
# S3_LOG_BUCKET=levibot-logs
# S3_LOG_PREFIX=logs
# ARCHIVE_KEEP_DAYS=7
# ARCHIVE_DRY_RUN=false

# --- Build Info (set by CI/CD or docker-compose) ---
BUILD_VERSION=1.5.0-dev
BUILD_SHA=local
BUILD_BRANCH=main

# Log directory for events
LOG_DIR=/app/backend/data/logs

EXCHANGE=MEXC
MARKET_TYPE=spot
MEXC_API_KEY=mx0vglSTklRnK3TCDu
MEXC_API_SECRET=3a35df6f8980410eb3fc4e1b913021e0
MEXC_SANDBOX=true
MEXC_TESTNET=false

SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT,BNBUSDT,ADAUSDT

PER_TRADE_RISK=0.002      # %0.2
DAILY_DD_STOP=0.02        # %2
MAX_DAILY_TRADES=25
COOLDOWN_MINUTES=10
MIN_CONFIDENCE=0.58

OPENAI_API_KEY=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
OPENAI_MODEL=gpt-4o
TELEGRAM_BOT_TOKEN=8384004100:AAGwYT7hCROIUyrkrXOjXiLQ_q47SuFDgXU
TELEGRAM_ALERT_CHAT_ID=1002211124701
TELEGRAM_API_ID=22526488
TELEGRAM_API_HASH=69924629dedc1034559fb4527238212a
TELEGRAM_SYSTEM_PHONE=+905325566496
TELEGRAM__ADMIN_ID=7835421240
AUTHORIZED_USERS=7835421240
ADMIN_USER_ID=7835421240
ADMIN_KEY=d4f35619c7fdda3977854335960f5e2738ecdf64fe67901c09a709ca643fdccf

AI_REASON_ENABLED=1
AI_REASON_TIMEOUT_S=1.2
AI_REASON_MONTHLY_TOKEN_BUDGET=250000

# LeviBot Docker Environment
SECURITY_ENABLED=false
PAPER_RISK_DISABLE=true
LOG_DIR=/app/backend/data/logs
DATA_DIR=/app/backend/data
CORS_ORIGINS=http://localhost:3002,http://localhost:5173,http://localhost:8000
REDIS_URL=redis://redis:6379/0

DB_HOST=timescaledb 
DB_PORT=5432 
DB_NAME=levibot 
DB_USER=postgres 
DB_PASSWORD=postgres 
# Allow all IPs (empty = allow all)
IP_ALLOWLIST=

# CLICKHOUSE (Time-Series Database)
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DB=levibot